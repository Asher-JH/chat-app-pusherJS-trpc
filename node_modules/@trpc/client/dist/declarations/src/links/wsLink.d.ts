import { AnyRouter, ProcedureType } from '@trpc/server';
import { ObservableCallbacks, UnsubscribeFn } from '../internals/observable';
import { retryDelay } from '../internals/retryDelay';
import { TRPCLink } from './core';
declare type Operation = {
    id: number | string;
    type: ProcedureType;
    input: unknown;
    path: string;
};
export interface WebSocketClientOptions {
    url: string;
    WebSocket?: typeof WebSocket;
    retryDelayMs?: typeof retryDelay;
}
export declare function createWSClient(opts: WebSocketClientOptions): {
    close: () => void;
    request: (op: Operation, callbacks: ObservableCallbacks<any, any>) => UnsubscribeFn;
    getConnection(): WebSocket;
};
export declare type TRPCWebSocketClient = ReturnType<typeof createWSClient>;
export interface WebSocketLinkOptions {
    client: TRPCWebSocketClient;
}
export declare function wsLink<TRouter extends AnyRouter>(opts: WebSocketLinkOptions): TRPCLink<TRouter>;
export {};
//# sourceMappingURL=wsLink.d.ts.map